<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BP LABO</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <header>
        <h1>BP LABO</h1>
        <p>Your friendly classroom assistant!</p>
        <button id="mute-btn" title="Toggle Sound">üîä</button>
    </header>

    <div class="tool-container">
        <!-- Date & Weather -->
        <div class="tool-card" id="date-weather-tool">
            <h2>Date & Weather</h2>
            <div class="dw-main-content">
                <div class="dw-left-panel">
                    <div class="dw-calendar-nav">
                        <button id="dw-prev-month-btn"><</button>
                        <h3 id="dw-calendar-header">Month Year</h3>
                        <button id="dw-next-month-btn">></button>
                    </div>
                    <div id="dw-calendar-grid">
                        <!-- Calendar will be generated by JS -->
                    </div>
                </div>
                <div class="dw-right-panel">
                    <!-- These elements are visible only in fullscreen -->
                    <div id="dw-month-display">Month</div>
                    <div class="dw-day-date-row">
                        <div id="dw-day-display">Day</div>
                        <div id="dw-date-display">Date</div>
                    </div>
                    <!-- This row groups time and weather for layout -->
                    <div class="dw-time-weather-row">
                        <div id="dw-time-display">00:00:00</div>
                        <div id="dw-weather-display">
                            <div class="dw-weather-controls">
                                <label for="dw-weather-select">Weather:</label>
                                <select id="dw-weather-select">
                                    <option value="sunny">Sunny</option>
                                    <option value="cloudy">Cloudy</option>
                                    <option value="partly-cloudy">Partly Cloudy</option>
                                    <option value="rainy">Rainy</option>
                                    <option value="windy">Windy</option>
                                    <option value="snowy">Snowy</option>
                                    <option value="stormy">Stormy</option>
                                </select>
                            </div>
                            <img id="dw-weather-img" src="assets/weather/sunny.png" alt="Sunny">
                            <div id="dw-weather-text">Sunny</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Random Name Picker -->
        <div class="tool-card">
            <h2>Random Name Picker</h2>
            <div class="fireworks-container" id="name-picker-fireworks"></div>
            <div class="name-picker-content">
                <div class="name-picker-panel">
                    <div class="class-list-manager">
                        <label for="class-list-select">Load Class:</label>
                        <select id="class-list-select">
                            <option value="">-- New List --</option>
                        </select>
                        <button id="delete-class-btn" title="Delete Selected Class">üóëÔ∏è</button>
                    </div>
                    <textarea id="name-list" placeholder="Paste student names here, one per line..."></textarea>
                    <div class="name-picker-controls">
                        <button id="save-class-btn">Save List</button>
                        <button id="pick-name-btn">Pick a Student!</button>
                    </div>
                    <div class="name-picker-options">
                        <input type="checkbox" id="dont-pick-again-check">
                        <label for="dont-pick-again-check">Don't pick again until list is reset</label>
                    </div>
                    <div id="picked-names-container" class="hidden">
                        <h4>Already Picked:</h4>
                        <ul id="picked-names-list"></ul>
                    </div>
                </div>
                <div id="picked-name"></div>
            </div>
        </div>

        <!-- Classroom Timer -->
        <div class="tool-card">
            <h2>Classroom Timer</h2>
            <div class="timer-layout-container">
                <div class="timer-controls-panel">
                    <div id="timer-display">05:00</div>
                    <div class="preset-timers">
                        <button class="preset-btn" data-time="30">30s</button>
                        <button class="preset-btn" data-time="60">1m</button>
                        <button class="preset-btn" data-time="120">2m</button>
                        <button class="preset-btn" data-time="300">5m</button>
                    </div>
                    <div class="custom-timer-setter">
                        <input type="text" id="timer-custom-input" placeholder="mm:ss">
                        <button id="timer-set-custom-btn">Set</button>
                    </div>
                    <div class="timer-controls">
                        <button id="timer-start-stop">Start</button>
                        <button id="timer-reset">Reset</button>
                    </div>
                    <div class="timer-theme-selector">
                        <label for="timer-theme">Theme:</label>
                        <select id="timer-theme">
                            <option value="bar" selected>Progress Bar</option>
                            <option value="bucket">Water Bucket</option>
                        </select>
                    </div>
                </div>
                <div class="timer-visual-container">
                    <div id="timer-theme-bar" class="timer-theme active">
                        <div id="timer-progress-bar">
                            <div id="timer-progress"></div>
                        </div>
                    </div>
                    <div id="timer-theme-bucket" class="timer-theme">
                        <div class="bucket-container">
                            <div class="water"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Digital Flashcards -->
        <div class="tool-card">
            <h2>Digital Flashcards</h2>
            <div class="flashcard-controls">
                <label for="flashcard-category">Category:</label>
                <select id="flashcard-category"></select>
            </div>
            <div id="flashcard-display-container">
                <div id="flashcard-display">
                    <div class="flashcard-face flashcard-front">Select a category</div>
                    <div class="flashcard-face flashcard-back"></div>
                </div>
            </div>
            <div id="flashcard-grid-view">
                <!-- All cards will be dynamically inserted here by JS -->
            </div>
            <div class="flashcard-nav">
                <div class="flashcard-nav-single">
                    <button id="flashcard-prev">Previous</button>
                    <button id="flashcard-random">Random</button>
                    <button id="flashcard-next">Next</button>
                </div>
                <div class="flashcard-nav-toggle">
                    <button id="flashcard-show-all-toggle">Show All</button>
                </div>
            </div>
        </div>

        <!-- Scoreboard -->
        <div class="tool-card" id="scoreboard-tool">
            <h2>Scoreboard</h2>

            <!-- Grid View -->
            <div class="scoreboard-grid-view">
                <div class="scoreboard-teams">
                    <div class="team">
                        <div class="team-icon" id="team1-icon"></div>
                        <h3 id="team1-name" contenteditable="true">Team 1</h3>
                        <div class="team-score" id="score-team1">0</div>
                        <div class="score-controls">
                            <button class="score-btn" data-team="1" data-amount="1">+</button>
                            <button class="score-btn" data-team="1" data-amount="-1">-</button>
                        </div>
                    </div>
                    <div class="team">
                        <div class="team-icon" id="team2-icon"></div>
                        <h3 id="team2-name" contenteditable="true">Team 2</h3>
                        <div class="team-score" id="score-team2">0</div>
                        <div class="score-controls">
                            <button class="score-btn" data-team="2" data-amount="1">+</button>
                            <button class="score-btn" data-team="2" data-amount="-1">-</button>
                        </div>
                    </div>
                    <div class="team">
                        <div class="team-icon" id="team3-icon"></div>
                        <h3 id="team3-name" contenteditable="true">Team 3</h3>
                        <div class="team-score" id="score-team3">0</div>
                        <div class="score-controls">
                            <button class="score-btn" data-team="3" data-amount="1">+</button>
                            <button class="score-btn" data-team="3" data-amount="-1">-</button>
                        </div>
                    </div>
                    <div class="team">
                        <div class="team-icon" id="team4-icon"></div>
                        <h3 id="team4-name" contenteditable="true">Team 4</h3>
                        <div class="team-score" id="score-team4">0</div>
                        <div class="score-controls">
                            <button class="score-btn" data-team="4" data-amount="1">+</button>
                            <button class="score-btn" data-team="4" data-amount="-1">-</button>
                        </div>
                    </div>
                </div>
                <button id="reset-scores">Reset Scores & Icons</button>
            </div>

            <!-- Fullscreen View Container (initially hidden) -->
            <div id="scoreboard-fullscreen-container" class="hidden">
                <div id="scoreboard-fullscreen-view">
                    <!-- Team cards generated by JS -->
                </div>
                <div id="scoreboard-fullscreen-controls">
                    <button id="fs-reset-scores-btn">Reset Scores & Icons</button>
                </div>
            </div>
        </div>
        
        <!-- What's Missing? Game -->
        <div class="tool-card">
            <h2>What's Missing? Game</h2>
            <div class="wm-settings">
                <div class="flashcard-controls">
                    <label for="whats-missing-category">Category:</label>
                    <select id="whats-missing-category"></select>
                </div>
                <div class="flashcard-controls">
                    <label for="whats-missing-difficulty">Difficulty:</label>
                    <select id="whats-missing-difficulty">
                        <option value="easy">Easy (6s)</option>
                        <option value="normal" selected>Normal (4s)</option>
                        <option value="hard">Hard (2.5s)</option>
                    </select>
                </div>
                <div class="flashcard-controls">
                    <label for="wm-card-count">Cards:</label>
                    <select id="wm-card-count">
                        <option value="4">4</option>
                        <option value="6" selected>6</option>
                        <option value="9">9</option>
                    </select>
                </div>
                <div class="flashcard-controls">
                    <label for="wm-missing-count">Missing:</label>
                    <select id="wm-missing-count">
                        <option value="1" selected>1 Card</option>
                        <option value="2">2 Cards</option>
                        <option value="3">3 Cards</option>
                        <option value="4">4 Cards</option>
                    </select>
                </div>
            </div>
            <div id="whats-missing-status">Select a category and start the game!</div>
            <div class="whats-missing-grid" id="whats-missing-grid"></div>
            <button id="whats-missing-start-btn">Start Game</button>
        </div>

        <!-- Image Reveal Game -->
        <div class="tool-card" id="image-reveal-tool">
            <h2>Image Reveal Game</h2>
            <div class="ir-setup-controls">
                <input type="file" id="ir-image-input" accept="image/*" class="hidden" multiple>
                <label for="ir-image-input" class="button-like-label">Upload Image(s)</label>
                <div class="ir-option">
                    <label for="ir-grid-size">Grid:</label>
                    <select id="ir-grid-size">
                        <option value="3x2">Easy (3x2)</option>
                        <option value="5x4" selected>Normal (5x4)</option>
                        <option value="8x6">Hard (8x6)</option>
                        <option value="10x8">Expert (10x8)</option>
                        <option value="custom">Custom</option>
                    </select>
                </div>
                <div class="ir-custom-grid-inputs hidden">
                    <input type="number" id="ir-custom-cols" placeholder="Cols" min="1" max="30" value="5"> x
                    <input type="number" id="ir-custom-rows" placeholder="Rows" min="1" max="30" value="4">
                </div>
                <div class="ir-option">
                    <label for="ir-reveal-mode">Mode:</label>
                    <select id="ir-reveal-mode">
                        <option value="manual" selected>Manual</option>
                        <option value="auto">Automatic (2s)</option>
                        <option value="custom">Custom Speed</option>
                    </select>
                </div>
                 <div class="ir-custom-speed-input hidden">
                    <input type="number" id="ir-custom-speed" placeholder="Sec" min="0.1" step="0.1" value="2"> s
                </div>
            </div>
            <div class="ir-game-controls">
                <button id="ir-start-pause-btn" class="hidden">Start</button>
                <button id="ir-manual-reveal-btn" class="hidden">Reveal Tile</button>
                <button id="ir-reveal-all-btn" class="hidden">Reveal All</button>
                <button id="ir-reset-grid-btn" class="hidden">Reset Grid</button>
                <button id="ir-next-image-btn" class="hidden">Next Image</button>
                <button id="ir-new-game-btn" class="hidden">New Game</button>
            </div>
            <div class="ir-game-area">
                <div id="ir-image-container">
                    <img id="ir-image" src="" alt="Image to be revealed">
                    <div id="ir-grid-overlay"></div>
                </div>
                 <div id="ir-status-bar">
                    <span id="ir-sequence-status"></span>
                    <span id="ir-game-status">Upload an image to begin!</span>
                </div>
            </div>
        </div>

        <!-- Bingo Picker -->
        <div class="tool-card" id="bingo-tool">
            <h2>Bingo Picker</h2>
            <div class="bingo-controls-panel">
                 <div class="bingo-source-select">
                    <label for="bingo-list-select">Use List From:</label>
                    <select id="bingo-list-select">
                        <option value="custom">-- Custom List Below --</option>
                        <!-- Populated by JS -->
                    </select>
                </div>
                <textarea id="bingo-list-input" placeholder="Or, enter items here, one per line..."></textarea>
                <div class="bingo-buttons">
                    <button id="bingo-pick-btn">Pick an Item</button>
                    <button id="bingo-reset-btn">Reset Game</button>
                </div>
            </div>
            <div class="bingo-display-area">
                <div id="bingo-picked-item-display">BINGO!</div>
                <div id="bingo-picked-container" class="hidden">
                    <h4>Already Picked:</h4>
                    <div id="bingo-picked-list"></div>
                </div>
            </div>
        </div>

        <!-- Flashcard Manager -->
        <div class="tool-card">
            <h2>Flashcard Manager</h2>
            <div class="flashcard-manager-controls">
                <div class="fm-row">
                    <select id="fm-set-select"><option value="">-- Create New Set --</option></select>
                    <button id="fm-delete-set-btn" disabled>Delete Set</button>
                </div>
                <div class="fm-row">
                    <input type="text" id="fm-set-name" placeholder="New or Loaded Set Name">
                </div>
                <div class="fm-row">
                    <input type="text" id="fm-card-text" placeholder="Card Text (e.g., Dog)">
                    <input type="file" id="fm-card-img" accept="image/*">
                    <button id="fm-add-card-btn">Add Card</button>
                </div>
                <div class="fm-row">
                    <button id="fm-export-btn">Export All Sets</button>
                    <input type="file" id="fm-import-input" class="hidden" accept=".json,application/json">
                    <label for="fm-import-input" id="fm-import-label" class="button-like-label">Import Sets (.json)</label>
                </div>
            </div>
            <p><strong>Cards in this set:</strong></p>
            <div id="fm-current-cards"></div>
            <button id="fm-save-set-btn">Save Set</button>
        </div>
        
    </div>

    <script src="js/main.js" type="module"></script>
</body>
</html>